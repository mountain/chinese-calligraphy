# 计划二：游走的轴线 (The "Flowing Axis" Plan)

**难度：** ⭐⭐⭐ (较难)
**针对痛点：** "网格囚笼" (The Grid Prison)
**核心目标：** 打破 `MainText` 中机械的行列切分，引入“避让”和“穿插”机制，让行气的摆动具有物理合理性。

**实施步骤：**

1. **建立边界感知 (`chinese_calligraphy/layout.py`)**
* 修改 `MainText.draw` 的循环逻辑。
* **状态记忆：** 在绘制第 `N` 列时，必须缓存第 `N-1` 列每一个字的**右侧轮廓（Bounding Box Right Edge）**。
* **碰撞检测：** 当计算第 `N` 列当前字的 `cx`（中心点 x）时，检查是否会与 `N-1` 列对应高度的字发生重叠。

2. **实现蛇形布局算法**
* 摒弃固定的 `col_spacing`。
* **动态列距：** 如果上一列的字整体向左偏（让出了空间），当前列可以向左“挤”过去；如果上一列字向右突（占据了空间），当前列必须向右避让。
* **弹性模型：** 将列中心线视为一根受力的“弹簧”，它既想保持垂直，又受到左侧邻居的排斥力。

3. **笔画密度加权 (基于 `fontTools`)**
* 利用 `fontTools` 读取字体的 `glyf` 表，计算字形轮廓的控制点数量或覆盖面积，作为“笔画密度”的近似值。
* **大小错落：** 在 `brush.glyph_transform_params` 中，不再纯随机 `scale`。笔画密的字（如“繁”）自动放大 5%-10%，笔画稀的字（如“一”）自动缩小，符合书法“密者放大，疏者缩小”的视觉平衡规律。

**预期效果：**
整幅作品的行气将不再是笔直的几条线，而是像河流一样自然摆动，字与字之间出现咬合感，布局更加生动有机。
